# These settings were set by the catalyst build script that automatically
# built this stage.
# Please consult /usr/share/portage/config/make.conf.example for a more
# detailed example.
COMMON_FLAGS="-O2 -pipe -march=x86-64-v3"
CFLAGS="${COMMON_FLAGS}"
CXXFLAGS="${COMMON_FLAGS}"
FCFLAGS="${COMMON_FLAGS}"
FFLAGS="${COMMON_FLAGS}"

# While it's cool, we like clean emerge outputs.
EMERGE_DEFAULT_OPTS="--quiet-build=y"

# Force the least amount of LLVMs
LLVM_SLOT="20"

# GRUB setup
GRUB_PLATFORMS="emu efi-64 pc"

# GPUs setup
VIDEO_CARDS="amdgpu intel nouveau radeon radeonsi virgl"

# This sets the language of build output to English.
# Please keep this setting intact when reporting bugs.
LC_MESSAGES=C.UTF-8
ACCEPT_LICENSE="linux-fw-redistributable NVIDIA-r2 NVIDIA-2023 NVIDIA-2025 google-chrome Microsoft-vscode"

# USE flags.
NOQT_USE="-qt6 -qt5"
SECUREBOOT_USE="modules-sign secureboot"
SYSTEM_USE="abi_x86_32 dbus dist-kernel policykit modules-compress"
SOUND_USE="pipewire-alsa alsa bluetooth bluetooth-sound"
VIDEO_USE="vaapi vdpau virgl opengl -X -wayland"
SERVER_USE="cups samba zeroconf zstd apparmor"
USE="${NOQT_USE} ${SECUREBOOT_USE} ${SYSTEM_USE} ${SOUND_USE} ${VIDEO_USE} ${SERVER_USE}"

# SecureBoot setup for the masses (we take no responsibility).
# These are provided by sbctl.
SECUREBOOT_SIGN_KEY=/etc/matrixos-private/secureboot/keys/db/db.key
SECUREBOOT_SIGN_CERT=/etc/matrixos-private/secureboot/keys/db/db.pem
MODULES_SIGN_KEY=/etc/matrixos-private/secureboot/keys/db/db.key
MODULES_SIGN_CERT=/etc/matrixos-private/secureboot/keys/db/db.pem
