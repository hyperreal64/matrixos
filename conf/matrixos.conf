[matrixOS]
# OsName is the default OS name (lowercase) for which we are building
# seeds, releases and images.
OsName=matrixos
# FancyOsName is the fancy version of OsName. Fancy is be defined as
# "a more marketing friendly name" for an OS which will not be used
# for technical purposes (e.g. as part of path names).
FancyOsName=matrixOS
# Identifies the CPU architecture (in the Gentoo Portage KEYWORDS sense).
Arch=amd64
# OverlayGitRepo is the URL for the matrixOS overlay git repository.
# It is listed here because it's not yet contained in the official
# Gentoo Portage repositories.xml file.
OverlayGitRepo=https://github.com/lxnay/matrixos-overlay.git
# GitRepo is the URL for the matrixOS git repository, where all this code
# and configs live.
GitRepo=https://github.com/lxnay/matrixos.git
# PrivateExampleGitRepo is the URL for the matrixOS private example git repository.
# See the PrivateGitRepoPath for more information.
PrivateExampleGitRepo=https://github.com/lxnay/matrixos-private-example.git
# PrivateGitRepoPath is the local (outside of chroots *and* inside of chroots)
# path where the (real) private Git repository containing private signing keys
# for OSTree, images and SecureBoot live. This is typically bind mount inside
# chroots by the seeding process and used for all signing operations. It contains
# both private keys (THAT YOU SHOULD NOT SHARE) and associated public keys.
PrivateGitRepoPath=/etc/matrixos-private
# DefaultUsername is the username created by the build toolkit that acts as
# first and unique non-privileged user shipped by default with images.
DefaultUsername=matrix
# DefaultRoot is used for determining the matrixos toolkit root
# inside chroots or during seeding processes.
DefaultRoot=/matrixos
# Root by default is `cwd` if unset, or relative to `cwd` if the path
# is relative.
Root=
# ArtifactsDir is the path where artifacts are stored, relative to Root
# if the path is relative.
ArtifactsDir=./
# ConfDir is the path where configuration files are stored. To break
# the circular dependency cycle, the matrixos toolkit will look for
# standard paths first: `cwd`/conf, /etc/matrixos/conf. So setting
# this to "conf/" has zero effect on the path parsing. ConfDir is
# relative to Root, if the path is relative.
ConfDir=conf/
# OutDir is the path where images, chroots and other artifacts are
# stored or temporarily generated (e.g. mounts). OutDir is relative
# to ArtifactsDir, if the path is relative. It is kept separate from
# ArtifactsDir for future usage flexibility.
OutDir=out/
# LogsDir is the path where logs produced by the toolkit should be
# stored. LogsDir is relative to Root, if the path is relative.
LogsDir=logs/
# LocksDir is the path where file locks are stored. LocksDir is
# relative to Root, if the path is relative.
LocksDir=locks/

#
# Seeder configuration.
# Seeder is the toolkit component that builds the system (chroot) off
# an initial seeding tarball (by default, a Gentoo stage3 tarball).
[Seeder]
# OutDir is the path where generated seeder artifacts are stored. Those
# can be Portage binpkgs directories, chroots of the various seeds, distfiles,
# stage3 downloads, gpg keychains, etc. It is relative to matrixOS.OutDir
# if the path is relative.
OutDir=seeder/
# DownloadsDir is the path where seeder downloads are stored. (e.g. Gentoo
# stage3 tarballs) It is relative to Seeder.OutDir, if the path is relative.
DownloadsDir=downloads/
# DistfilesDir is the path where distfiles are stored. It is relative to
# Seeder.OutDir, if the path is relative.
DistfilesDir=distfiles/
# BinpkgsDir is the path where Portage binpkgs directories are stored. It is
# relative to Seeder.OutDir, if the path is relative.
BinpkgsDir=binpkgs/
# PortageReposDir is the path where the Portage repositories are stored and
# shared across all seeds. It is relative to Seeder.OutDir, if the path is
# relative.
PortageReposDir=repos/
# GpgKeysDir is the path where **Gentoo** releng GPG keys are stored. These
# keys are used for verifying Gentoo stage3 tarballs **only**. It is relative
# to Seeder.OutDir, if the path is relative.
GpgKeysDir=gpg-keys/

#
# Imager configuration.
# Imager is the toolkit component that builds bootable image files off
# Releaser generated releases.
[Imager]
# OutDir is the path where generated images are stored. It is relative
# to matrixOS.OutDir, if the path is relative.
OutDir=images/

# Ostree specific configuration parameters.
[Ostree]
# Dir is the directory where ostree data is stored, relative to matrixOS.Root
# if the path is relative. Taking the `dirname` of Ostree.Dir gives you a path
# similar to OSTree sysroot.
Dir=ostree/
# RepoDir is the directory where ostree repository data is stored, relative to
# Ostree.Dir if the path is relative.
RepoDir=repo/
# Remote is the name of the default matrixOS ostree remote.
Remote=origin
# RemoteUrl is the URL of the default matrixOS ostree URL where ostree data is
# served from.
RemoteUrl=https://ostree.matrixos.org
# KeepObjectsYoungerThan is the mnemonically defined threshold after which data
# in the ostree repository is garbage collected. Keep this high enough so that
# people can roll back to arbitrarily large points in times as needed. It also
# defines the maximum rollback window.
KeepObjectsYoungerThan=2 months
# FullBranchSuffix is OSTree branch (or ref) suffix where the entire filesystem
# is stored. With entire filesystem, it is meant the root filesystem with all
# the compiler headers, static libraries and compiler itself. This can be used
# to temporarily or permanently turn matrixOS into a devel environment or back
# to a Gentoo environment.
FullBranchSuffix=full
# Gpg determines if GPG signing and validating support is enabled for the OSTree
# repository or not. Valid values can be "true" or "false" only.
Gpg=true
# DevGpgHomeDir is the gpg --homedir for the OSTree releaser and imager operations.
# Is is kept outside of chroots and root filesystems generated by the toolkit.
# The path is relative to matrixOS.ArtifactsDir if the path is relative.
DevGpgHomeDir=/var/tmp/ostree-gpg-private

#
# Cleaners configuration.
# Cleaners are the jobs ran by the Janitor binary to keep the matrixOS
# generated artifacts clean and tidy.

[DownloadsCleaner]
# DryRun controls whether the janitor cleaner for Seeder.DownloadsDir downloads
# should be executed or not. Valid values are "true" or "false" only. The default
# value is "false" if unset. Invalid values cause log warnings and are forcing the
# safe default (false).
DryRun=false

[LogsCleaner]
# DryRun controls whether the janitor cleaner for the matrixOS.LogsDir directory
# should be executed or not. Valid values are "true" or "false" only. The default
# value is "false" if unset. Invalid values cause log warnings and are forcing the
# safe default (false).
DryRun=false

[ImagesCleaner]
# DryRun controls whether the janitor cleaner for the Imager.OutDir directory should
# be executed or not. Valid values are "true" or "false" only. The default value
# is "false" if unset. Invalid values cause log warnings and are forcing the
# safe default (false).
DryRun=false
# MinAmountOfImages controls the minimum amount of (all) images to keep around in reverse
# chronological order. The images are the ones stored by Imager in Imager.OutDir.
MinAmountOfImages=3

